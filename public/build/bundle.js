var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(t,e){t.appendChild(e)}function c(t,e,n){t.insertBefore(e,n||null)}function l(t){t.parentNode.removeChild(t)}function i(t){return document.createElement(t)}function p(){return t=" ",document.createTextNode(t);var t}function u(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function d(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function m(t,e,n){t.classList[n?"add":"remove"](e)}let f;function x(t){f=t}const g=[],b=[],h=[],v=[],y=Promise.resolve();let $=!1;function _(t){h.push(t)}let k=!1;const j=new Set;function w(){if(!k){k=!0;do{for(let t=0;t<g.length;t+=1){const e=g[t];x(e),C(e.$$)}for(g.length=0;b.length;)b.pop()();for(let t=0;t<h.length;t+=1){const e=h[t];j.has(e)||(j.add(e),e())}h.length=0}while(g.length);for(;v.length;)v.pop()();$=!1,k=!1,j.clear()}}function C(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(_)}}const E=new Set;function N(t,e){-1===t.$$.dirty[0]&&(g.push(t),$||($=!0,y.then(w)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function T(s,a,c,l,i,p,u=[-1]){const d=f;x(s);const m=a.props||{},g=s.$$={fragment:null,ctx:null,props:p,update:t,not_equal:i,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:n(),dirty:u};let b=!1;var h,v;g.ctx=c?c(s,m,(t,e,...n)=>{const o=n.length?n[0]:e;return g.ctx&&i(g.ctx[t],g.ctx[t]=o)&&(g.bound[t]&&g.bound[t](o),b&&N(s,t)),e}):[],g.update(),b=!0,o(g.before_update),g.fragment=!!l&&l(g.ctx),a.target&&(a.hydrate?g.fragment&&g.fragment.l(function(t){return Array.from(t.childNodes)}(a.target)):g.fragment&&g.fragment.c(),a.intro&&((h=s.$$.fragment)&&h.i&&(E.delete(h),h.i(v))),function(t,n,s){const{fragment:a,on_mount:c,on_destroy:l,after_update:i}=t.$$;a&&a.m(n,s),_(()=>{const n=c.map(e).filter(r);l?l.push(...n):o(n),t.$$.on_mount=[]}),i.forEach(_)}(s,a.target,a.anchor),w()),x(d)}function A(e){let n,r,s,f,x,g,b,h,v,y,$,_,k,j,w,C,E,N;return{c(){n=i("script"),s=i("script"),x=i("link"),g=i("link"),b=p(),h=i("main"),v=i("div"),y=i("div"),$=p(),_=i("div"),k=i("div"),k.textContent="night mode",j=p(),w=i("div"),w.textContent="directions",C=p(),E=i("div"),E.textContent="add marker",n.src!==(r="https://api.mapbox.com/mapbox-gl-js/v1.8.0/mapbox-gl.js")&&d(n,"src","https://api.mapbox.com/mapbox-gl-js/v1.8.0/mapbox-gl.js"),s.src!==(f="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-directions/v4.0.2/mapbox-gl-directions.js")&&d(s,"src","https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-directions/v4.0.2/mapbox-gl-directions.js"),d(x,"href","https://api.mapbox.com/mapbox-gl-js/v1.8.0/mapbox-gl.css"),d(x,"rel","stylesheet"),d(g,"rel","stylesheet"),d(g,"href","https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-directions/v4.0.2/mapbox-gl-directions.css"),d(g,"type","text/css"),d(y,"id","map"),d(y,"class","svelte-439tx8"),d(k,"class","svelte-439tx8"),m(k,"active",e[0]),d(w,"class","svelte-439tx8"),m(w,"active",e[1]),d(E,"class","svelte-439tx8"),d(_,"class","controls svelte-439tx8"),d(h,"class","svelte-439tx8")},m(t,o){a(document.head,n),a(document.head,s),a(document.head,x),a(document.head,g),c(t,b,o),c(t,h,o),a(h,v),a(v,y),a(v,$),a(v,_),a(_,k),a(_,j),a(_,w),a(_,C),a(_,E),N=[u(n,"load",e[2]),u(k,"click",e[3]),u(w,"click",e[4]),u(E,"click",e[5])]},p(t,[e]){1&e&&m(k,"active",t[0]),2&e&&m(w,"active",t[1])},i:t,o:t,d(t){l(n),l(s),l(x),l(g),t&&l(b),t&&l(h),o(N)}}}function I(t,e,n){let o;let r,s=!1;let a;return[r,s,()=>{mapboxgl.accessToken="pk.eyJ1Ijoic2ltbW9lIiwiYSI6ImNrNzNhem81ZjA4aWEzZnM1ZzJlcGo0YzIifQ.ydTMVEfBU_I_mXDxHwfY8Q",o=new mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/streets-v8"}),o.addControl(new mapboxgl.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0})),o.addControl(new mapboxgl.NavigationControl)},t=>{r?(o.setStyle("mapbox://styles/mapbox/streets-v8"),n(0,r=!1)):(o.setStyle("mapbox://styles/mapbox/dark-v8"),n(0,r=!0))},t=>{s?(o.removeControl(a),n(1,s=!1)):(a=new MapboxDirections({accessToken:mapboxgl.accessToken}),o.addControl(a,"top-left"),n(1,s=!0))},t=>{const e=new mapboxgl.Marker({draggable:!0});e.setLngLat(o.getCenter()),e.addTo(o),e.on("dragend",()=>{var t=[[e._pos.x-5,e._pos.y-5],[e._pos.x+5,e._pos.y+5]],n=o.queryRenderedFeatures(t);console.log(n);var r=new mapboxgl.Popup({offset:25}).setText(`Du har sat markeren pÃ¥ ${e._pos.x}, ${e._pos.y}`);e.setPopup(r)})}]}return new class extends class{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}{constructor(t){super(),T(this,t,I,A,s,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
